<Window x:Class="BindValidation.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:BindValidation"
        xmlns:wpfsandbox="clr-namespace:WpfSandbox"
        xmlns:local1="clr-namespace:DDFight.Controlers"
        mc:Ignorable="d"
        Title="MainWindow"
        Width="650" Height="400"
        Background="{StaticResource LightestGray}">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/SliderButtonControlStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <StackPanel>
        <CheckBox
            IsChecked="{Binding Test}"
            x:Name="CheckBoxControl"/>

        <TextBlock
            x:Name="TextBlockControl">
            <TextBlock.Style>
                <Style TargetType="TextBlock">
                    <Setter Property="FontSize" Value="25"/>
                    <Setter Property="Background" Value="White"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsChecked, ElementName=CheckBoxControl}" Value="True">
                            <DataTrigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <ColorAnimation Duration="0:0:0.5" To="White" Storyboard.TargetProperty="(Foreground).(SolidColorBrush.Color)"></ColorAnimation>
                                        <ColorAnimation Duration="0:0:0.5" To="Black" Storyboard.TargetProperty="(Background).(SolidColorBrush.Color)"></ColorAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </DataTrigger.EnterActions>
                            <DataTrigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <ColorAnimation Duration="0:0:0.5" To="Black" Storyboard.TargetProperty="(Foreground).(SolidColorBrush.Color)"></ColorAnimation>
                                        <ColorAnimation Duration="0:0:0.5" To="White" Storyboard.TargetProperty="(Background).(SolidColorBrush.Color)"></ColorAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </DataTrigger.ExitActions>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </TextBlock.Style>
            Bonjour je suis un texte
        </TextBlock>

        <local1:SliderButton
            Width="70"
            ButtonWidth="30"
            IsChecked="{Binding Test}"
            OnLabel="Yes"
            OffLabel="No"
            Style="{StaticResource styleSliderButton}"/>

        <Canvas
            Width="100"
            Height="40"
            Background="Green">
            
            

            <Ellipse Width="20" Height="20" Stroke="{StaticResource Gray}" Panel.ZIndex="3" >
                <Ellipse.Style>
                    <Style TargetType="Ellipse">
                        <Setter Property="Stroke" Value="White"/>
                        <Setter Property="Fill" Value="Black" />
                        <Setter Property="RenderTransform">
                            <Setter.Value>
                                <TranslateTransform X="0" Y="0"/>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="Fill">
                            <Setter.Value>
                                <LinearGradientBrush EndPoint="0.504,1.5" StartPoint="0.504,0.03">
                                    <GradientStop x:Name="test1" Color="#FFFFFF" Offset="0">
                                    </GradientStop>
                                    <GradientStop x:Name="test2" Color="#BBBBBB" Offset="0.567"/>
                                </LinearGradientBrush>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Test}" Value="True">
                                <DataTrigger.EnterActions>
                                    <BeginStoryboard >
                                        <Storyboard>
                                            <ColorAnimation Duration="0:0:0.5" To="Black" Storyboard.TargetProperty="(Stroke).(SolidColorBrush.Color)" />
                                            <DoubleAnimation Duration="0:0:0.5" To="100" Storyboard.TargetProperty="(Ellipse.RenderTransform).(TranslateTransform.X)" />
                                            <ColorAnimation Duration="0:0:0.5" To="White" Storyboard.TargetProperty="(Fill).(SolidColorBrush.Color)" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.EnterActions>
                                <DataTrigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation Duration="0:0:0.5" To="White" Storyboard.TargetProperty="(Stroke).(SolidColorBrush.Color)"></ColorAnimation>
                                            <DoubleAnimation Duration="0:0:0.5" To="0" Storyboard.TargetProperty="(TextBox.RenderTransform).(TranslateTransform.X)"/>
                                            <ColorAnimation Duration="0:0:0.5" To="Black" Storyboard.TargetProperty="(Fill).(SolidColorBrush.Color)" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.ExitActions>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Ellipse.Style>
            </Ellipse>
        </Canvas>

        <wpfsandbox:CustomSliderButton 
            Margin="10"
            Height="20"
            Width="60"
            DataContext="{Binding Test}"/>

        <Canvas
            Width="100"
            Height="40"
            Background="Red">

            <Ellipse Width="20" Height="20" Style="{StaticResource styleEllipseGreyButton}" Stroke="{StaticResource Gray}" Panel.ZIndex="10" />
            <Ellipse Canvas.Right="0" Width="20" Height="20" Style="{StaticResource styleEllipseGreyButton}" Stroke="{StaticResource Gray}" Panel.ZIndex="10" />

            <Border Canvas.Left="10" Width="80" Height="20" Background="{StaticResource Indigo}" BorderBrush="{StaticResource Gray}" BorderThickness="0,1,0,1" />


            <Ellipse Width="20" Height="20">
                <Ellipse.RenderTransform>
                    <TranslateTransform X="0" Y="0"/>
                </Ellipse.RenderTransform>
                <Ellipse.Stroke>
                    <SolidColorBrush Color="White"/>
                </Ellipse.Stroke>
                <Ellipse.Fill>
                    <LinearGradientBrush EndPoint="0.504,1.5" StartPoint="0.504,0.03">
                        <GradientStop Color="White" Offset="0" />
                        <GradientStop Color="Black" Offset="0.567"/>
                    </LinearGradientBrush>
                </Ellipse.Fill>
                <Ellipse.Style>
                    <Style TargetType="Ellipse">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Test}" Value="True">
                                <DataTrigger.EnterActions>
                                    <BeginStoryboard >
                                        <Storyboard>
                                            <ColorAnimation Duration="0:0:0.5" To="Black" Storyboard.TargetProperty="(Stroke).(SolidColorBrush.Color)" />
                                            <DoubleAnimation Duration="0:0:0.5" To="80" Storyboard.TargetProperty="(Ellipse.RenderTransform).(TranslateTransform.X)" />
                                            <ColorAnimation Duration="0:0:0.5" To="White" Storyboard.TargetProperty="(Ellipse.Fill).(LinearGradientBrush.GradientStops)[0].Color" />
                                            <ColorAnimation Duration="0:0:0.5" To="Black" Storyboard.TargetProperty="(Ellipse.Fill).(LinearGradientBrush.GradientStops)[1].Color" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.EnterActions>
                                <DataTrigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation Duration="0:0:0.5" To="White" Storyboard.TargetProperty="(Stroke).(SolidColorBrush.Color)"></ColorAnimation>
                                            <DoubleAnimation Duration="0:0:0.5" To="0" Storyboard.TargetProperty="(TextBox.RenderTransform).(TranslateTransform.X)"/>
                                            <ColorAnimation Duration="0:0:0.5" To="Black" Storyboard.TargetProperty="(Ellipse.Fill).(LinearGradientBrush.GradientStops)[0].Color" />
                                            <ColorAnimation Duration="0:0:0.5" To="White" Storyboard.TargetProperty="(Ellipse.Fill).(LinearGradientBrush.GradientStops)[1].Color" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.ExitActions>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Ellipse.Style>
            </Ellipse>
        </Canvas>


    </StackPanel>
</Window>